{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://software.psion.info/api/v1/program.schema.json",
    "title": "Program",
    "description": "Single program representing a group of versions and variants.",
    "type": "object",
    "properties": {
        "id": {"type": "string"},
        "uid": {"type": "string"},
        "name": {"type": "string"},
        "versions": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "version": {"type": "string"},
                    "variants": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "identifier": {"type": "string"},
                                "items": {
                                    "type": "array",
                                    "items": {"$ref": "release.schema.json"}
                                }
                            },
                            "required": ["identifier", "items"],
                            "additionalProperties": false
                        }
                    }
                },
                "required": ["version", "variants"],
                "additionalProperties": false
            }
        },
        "tags": {
            "type": "array",
            "items": {"type": "string"}
        },
        "runtimes": {
            "type": "array",
            "items": {"enum": ["native", "opl"]}
        },
        "kinds": {
            "type": "array",
            "items": {"enum": ["installer", "standalone"]}
        },
        "platforms": {
            "type": "array",
            "items": {"enum": ["epoc16", "epoc32"]}
        },
        "icon": {
            "type": "object",
            "properties": {
                "path": {"type": "string"},
                "width": {"type": "integer"},
                "height": {"type": "integer"},
                "bpp": {"type": "integer"}
            },
            "required": ["path", "width", "height", "bpp"],
            "additionalProperties": false
        },
        "screenshots": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "width": {"type": "integer"},
                    "height": {"type": "integer"},
                    "path": {"type": "string"}
                },
                "required": ["width", "height", "path"],
                "additionalProperties": false
            }
        },
        "subtitle": {"type": "string"},
        "category": {"enum": [
            "connectivity/web",
            "connectivity/other",
            "games/action",
            "games/adventure",
            "games/arcade",
            "games/board",
            "games/puzzle",
            "games/racing",
            "games/rpg",
            "games/shooter",
            "games/simulation",
            "games/sports",
            "games/strategy",
            "games/other",
            "multimedia/ebooks",
            "multimedia/music",
            "multimedia/photo",
            "multimedia/video",
            "multimedia/other",
            "productivity/calculators",
            "productivity/date-and-time",
            "productivity/graphics",
            "productivity/office",
            "productivity/organizers",
            "productivity/scientific",
            "productivity/other",
            "system/addons",
            "system/file-management",
            "system/input",
            "system/utilities",
            "system/other",
            "desktop/other"
        ]},
        "authors": {
            "type": "array",
            "items": {"type": "string"}
        },
        "publishers": {
            "type": "array",
            "items": {"type": "string"}
        },
        "description": {"type": "string"},
        "links": {
            "type": "array",
            "items": {"type": "string"}
        },
        "overlay": {"type": "string"}
    },
    "required": ["id", "name", "tags", "runtimes", "kinds", "platforms"],
    "additionalProperties": false
}
